---
import Posts from "./Posts.astro";
let allPosts = await Astro.glob('../pages/posts/*.md');
allPosts = allPosts.sort((a, b) => new Date(b.frontmatter.publishedDate).valueOf() - new Date(a.frontmatter.publishedDate).valueOf());

---

<section class="blog-sidebar">
    <h2>Sidebar</h2>
    <hr />

    <div class="latest-post">
        <h5>Latest Posts</h5>
        <div class="posts">
            {allPosts.map((post ,index) => {
                // console.log(post.frontmatter)
                // Show only two latest blog in sidebar
                if(index > 1) {
                    return false;
                }
                return (
                <p><a target="_blank" href={'/posts/' + post.frontmatter.slug}>{post.frontmatter.title}</a></p>  
                
                );

            })}
        </div>
    </div>

    <div class="post-category mt-4">
        <h5>Categories</h5>
        <div class="posts">
            <p><a href="#">Lorem </a></p>  
            <p><a href="#">deleniti.</a></p>
            <p><a href="#">Architecto</a></p>
            <p><a href="#">accusantium.</a></p>
        </div>
    </div>
</section>

<style>
    .blog-sidebar {
        background-color: var(--secondary-color);
        padding:2rem;
        color: White;
        border-radius: 5px;
    }
    .posts p{
        margin: 0px;
    }
    .posts p a {
        color:var(--primary-color);
    }
</style>